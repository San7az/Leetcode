<script>
  // 核心思想：
  // 刚开始对左边进行处理时，可以看作求除自身以外的左边所有数的乘积
  // 比如[6, 2, 3, 4]
  // 针对第一次从左边处理，得到的结果为[1,6,12,36]
  // 当i=1时，即此刻在处理2，此时answer数组内容为[1,6]
  // 当i=2时，即此刻在处理3，此时answer数组内容为[1,6,12]
  // 当i=3时，即此刻在处理4，此时answer数组内容为[1,6,12,36]
  // 得出结论：对左边进行处理时，求除自身以外的左边所有数的乘积
  var productExceptSelf = function (nums) {
    // const n = nums.length
    // let answer = new Array(n).fill(1)
    let answer = []

    // 左
    let leftProduct = 1
    for (let i = 0; i < nums.length; i++) {
      answer[i] = leftProduct
      leftProduct = nums[i] * leftProduct
    }

    // 右
    let rightProduct = 1
    for (let i = nums.length - 1; i >= 0; i--) {
      answer[i] = answer[i] * rightProduct
      rightProduct = nums[i] * rightProduct
    }
    return answer
  }
  productExceptSelf([6, 2, 3, 4])
</script>
