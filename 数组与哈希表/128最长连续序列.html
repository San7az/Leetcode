<script>
  var longestConsecutive = function (nums) {
    // 数组为空时，最长序列为0
    if (nums.length === 0) {
      return 0
    }

    // 对数组进行去重操作: 用Set去重
    // 用sort进行排序 a-b默认为升序排列
    // Array.from() 静态方法从可迭代或类数组对象创建一个新的浅拷贝的数组实例。
    const newNums = Array.from(new Set(nums)).sort((a, b) => a - b)
    console.log(newNums)

    //如果序列未连续，用来记录当前最长序列长度
    let max = 0
    // 序列最小长度为1
    let counter = 1
    for (let i = 1; i < newNums.length; i++) {
      if (newNums[i] === newNums[i - 1] + 1) {
        counter++
      } else {
        max = Math.max(max, counter)
        counter = 1
      }
    }
    // 数组可能为有序连续的，所以需要将counter赋值给max
    max = Math.max(max, counter)
    return max
  }
  console.log(longestConsecutive([100, 4, 200, 1, 3, 2]))
</script>
