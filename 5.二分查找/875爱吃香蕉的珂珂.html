<script>
  /**
   * @param {number[]} piles
   * @param {number} h
   * @return {number}
   * 最小速度不可以是 Math.min(...piles)
   * 因为h可能无限大，导致如果最小速度为 1 的话，照样可以吃完全部的香蕉
   */
  var minEatingSpeed = function (piles, h) {
    let low = 1 // 吃香蕉的最小速度为1
    let high = Math.max(...piles) // 最大速度为香蕉堆中的最大值
    while (low < high) {
      let mid = Math.floor((low + high) / 2) // 二分查找
      let hoursNeeded = 0
      for (let pile of piles) {
        hoursNeeded = hoursNeeded + Math.ceil(pile / mid)
      }
      if (hoursNeeded <= h) {
        high = mid
      } else {
        low = mid + 1
      }
    }
    return low
  }
</script>
