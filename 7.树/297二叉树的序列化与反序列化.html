<script>
  /**
   * Definition for a binary tree node.
   * function TreeNode(val) {
   *     this.val = val;
   *     this.left = this.right = null;
   * }
   */

  /**
   * Encodes a tree to a single string.
   *
   * @param {TreeNode} root
   * @return {string}
   */
  var serialize = function (root) {
    if (root === null) {
      return 'null'
    }
    return root.val + ',' + serialize(root.left) + ',' + serialize(root.right)
  }

  /**
   * Decodes your encoded data to tree.
   *
   * @param {string} data
   * @return {TreeNode}
   */
  var deserialize = function (data) {
    const values = data.split(',')
    const buildTree = () => {
      const val = values.shift()
      if (val === 'null') {
        return null
      }
      const node = new TreeNode(parseInt(val))
      node.left = buildTree()
      node.right = buildTree()
      return node
    }
    return buildTree()
  }

  /**
   * Your functions will be called as such:
   * deserialize(serialize(root));
   */
</script>
